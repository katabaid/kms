<!DOCTYPE html>
<html>
<head>
    <title>Scan to Continue</title>
    <script src="/qr_code.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        #qrcode {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div id="qrcode"></div>
    <img/>

    <script type="module">
        // Function to get query parameters
        function getQueryParam(param) {
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }
        let data = getQueryParam("data") || "https://default-url.com";
        import QrCode from 'https://danielgjackson.github.io/qrcodejs/qrcode.mjs';
        const matrix = QrCode.generate(data);
        const uri = QrCode.render('bmp-uri', matrix);
        document.querySelector("img").src = uri;
    </script>
</body>
</html>
